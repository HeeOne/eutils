"use strict";const e=Object.prototype.toString;function t(t){return"Undefined"==function(t){return e.call(t).slice(8,-1)}(t)}function r(e,t=2){let r=Number(e);return isNaN(r)?NaN:((0===(t=parseInt(String(t)))||t)&&(r=+r.toFixed(t)),r)}function o(e,t="{y}-{m}-{d} {h}:{i}:{s}"){if(0===arguments.length||!e)return null;let r;"object"==typeof e?r=e:("string"==typeof e&&(e=/^[0-9]+$/.test(e)?parseInt(e):e.replace(new RegExp(/-/gm),"/")),"number"==typeof e&&10===e.toString().length&&(e*=1e3),r=new Date(e));const o={y:r.getFullYear(),m:r.getMonth()+1,d:r.getDate(),h:r.getHours(),i:r.getMinutes(),s:r.getSeconds(),a:r.getDay()};return t.replace(/{([ymdhisa])+}/g,((e,t)=>{const r=o[t];return"a"===t?["日","一","二","三","四","五","六"][r]:r.toString().padStart(2,"0")}))}class n{constructor({prefix:e="",storageType:t="local"}){this.prefix=e,this.storage="local"==t?localStorage:sessionStorage}getKey(e){return`${this.prefix}-${e}`}setItem(e,t,r){const o=this.getKey(e),n={value:t,expired:r?Date.now()+r:void 0};this.storage.setItem(o,JSON.stringify(n))}getItem(e,t){const r=this.getKey(e),o=this.storage.getItem(r);if(!o)return t;try{const e=JSON.parse(o);return e.expired&&Date.now()>e.expired?(this.storage.removeItem(r),t):e.value}catch(e){return console.error(e),this.storage.removeItem(r),t}}removeItem(e){const t=this.getKey(e);this.storage.removeItem(t)}clear(){const e=[];for(let t=0;t<this.storage.length;t++){const r=this.storage.key(t);r&&r.startsWith(this.prefix)&&e.push(r)}e.forEach((e=>this.storage.removeItem(e)))}}exports.StorageClient=n,exports.createLocalStorage=function(e){return new n({prefix:e,storageType:"local"})},exports.createSessionStorage=function(e){return new n({prefix:e,storageType:"session"})},exports.formatNumberThousands=function(e,o=void 0){let n=e;if(function(e){return!t(e)}(o)&&(n=r(e,o),isNaN(n)))return NaN;let s=n.toString().split(".");return s[0]=s[0].replace(/(\d)(?=(?:\d{3})+$)/g,"$1,"),s.join(".")},exports.formatNumberToPrecise=r,exports.generateDatefrom=function(e,t=90){const r=e?new Date(e).getTime():(new Date).getTime();return new Date(r-864e5*t)},exports.getPercentWithPrecision=function(e,t=2){if(Array.isArray(e)){for(var r=[],o=Math.pow(10,t),n=100*o,s=0,i=0;i<e.length;i++)s+=isNaN(e[i])?0:e[i];var a=[];for(i=0;i<e.length;i++)a.push(e[i]/s*o*100);var g=[],u=[],c=0;for(i=0;i<a.length;i++){var l=Math.floor(a[i]);g.push(l),u.push(a[i]-l),c+=l}for(;c<n;){var p=Number.MIN_SAFE_INTEGER,h=null;for(i=0;i<u.length;i++)u[i]>p&&(p=u[i],h=i);u[h]=0,++c,++g[h]}for(i=0;i<g.length;i++)r.push(g[i]/o);return r}},exports.listMonths=function(e,t){const r=o(e,"{y}-{m}"),n=o(t,"{y}-{m}");if(!r||!n)return[];const s=e=>{const[t,r]=e.split("-").map(Number);return new Date(t,r-1,1)};let i=s(r),a=s(n);i>a&&([i,a]=[a,i]);const g=[],u=new Date(i);for(;u<=a;){const e=u.getFullYear(),t=(u.getMonth()+1).toString().padStart(2,"0");g.push(`${e}-${t}`),u.setMonth(u.getMonth()+1)}return g},exports.parseTime=o;
//# sourceMappingURL=index.js.map
